<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <title>画像アップロードフォーム</title>
    <meta name="description" content="イベント用デジタルサイネージに掲載する画像を投稿できます。" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="./assets/css/style.css" />
  </head>
  <body>
    <main class="page">
      <header class="page__header">
        <img class="page__logo" src="./assets/img/upload-icon.svg" alt="画像アップロード" />
        <h1 class="page__title">画像を送信</h1>
        <p class="page__subtitle">画像データを簡単にアップロードできます。</p>
      </header>

      <section class="card">
        <h2 class="card__title">送信手順</h2>
        <ol class="steps">
          <li class="steps__item">端末から画像ファイルを選択する</li>
          <li class="steps__item">備考欄にコメントを記入（任意）</li>
          <li class="steps__item">「画像を送信」ボタンを押す</li>
        </ol>
      </section>

      <section class="card">
        <h2 class="card__title">画像アップロード</h2>
        <form id="upload-form" class="form" novalidate>
          <label class="form__field">
            <span class="form__label">画像ファイル</span>
            <input
              id="photo-input"
              class="form__input"
              type="file"
              accept="image/*"
              required
            />
          </label>

          <div id="preview" class="preview preview--empty" aria-live="polite">
            <p class="preview__placeholder">選択した画像はここに表示されます。</p>
            <img id="preview-image" class="preview__image" alt="" />
          </div>

          <label class="form__field">
            <span class="form__label">コメント（任意）</span>
            <textarea
              id="comment-input"
              class="form__textarea"
              placeholder="撮影の背景や紹介文などがあればご記入ください"
              maxlength="200"
            ></textarea>
          </label>

          <label class="form__field">
            <span class="form__label">メールアドレス（任意）</span>
            <input
              id="email-input"
              class="form__input"
              type="email"
              placeholder="審査結果をお送りします（任意）"
            />
            <small class="form__hint">メールアドレスを入力すると、審査結果をお送りします</small>
          </label>

          <label class="form__field form__field--checkbox">
            <input id="permission-checkbox" type="checkbox" required />
            <span>利用規約に同意します</span>
          </label>

          <button id="submit-button" class="button" type="submit" disabled>
            画像を送信
          </button>
        </form>

        <div id="status" class="status" aria-live="polite"></div>
      </section>

      <section class="card card--muted">
        <h2 class="card__title">利用規約</h2>
        <p class="card__text">
          投稿いただいた画像は審査後、デジタルサイネージや公式サイトで公開される可能性があります。第三者の権利を侵害しない画像をご投稿ください。
        </p>
      </section>

      <footer class="page__footer">
        <small>&copy; <span id="current-year"></span> Promotion Screen</small>
      </footer>
    </main>

    <template id="status-template">
      <div class="status__row status__row--icon">
        <span class="status__icon" data-status></span>
        <span data-message></span>
      </div>
      <div class="status__row status__row--details" data-details></div>
    </template>

    <script>
      window.UPLOAD_ENDPOINT = "https://script.google.com/macros/s/AKfycbyQlUmCl9kly50PDxOjY_1toWwU54dneAl2wIc2IfGiBEr36swoW9j2A2iFDGMsiCmTxA/exec";
    </script>
    <script src="./assets/js/main.js" type="module"></script>
  </body>
</html>
